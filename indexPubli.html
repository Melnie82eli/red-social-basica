<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Social</title>
    <link rel="stylesheet" href="estilos.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&display=swap" rel="stylesheet">
</head>

<body>

    <header>
        <div class="nav-container">
            <a href="#" class="logo" onclick="showFeed()">RedSocial</a>
            <nav>
                <a onclick="showFeed()" id="nav-home" class="active">Inicio</a>
                <a onclick="showProfile()" id="nav-profile">Mi Perfil</a>
                <a id="nav-logout" style="color: #EF4444; cursor: pointer;">Cerrar Sesi√≥n</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Profile Section (Hidden by default) -->
        <div id="profile-section" style="display: none;">
            <div class="profile-card">
                <div class="profile-header">
                    <div class="profile-pic-container" onclick="openPhotoModal()">
                        <img id="profile-pic"
                            src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ccc'%3E%3Cpath d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E"
                            alt="Foto de perfil">
                        <div class="profile-pic-overlay">
                            <span>üì∑</span>
                        </div>
                    </div>
                    <h2 id="profile-name">Cargando...</h2>
                    <p id="profile-bio" style="color: #6B7280; margin: 0.5rem 0;">Sin biograf√≠a</p>
                    <p id="profile-email" style="display:none;">Cargando...</p>
                </div>
                <button class="btn btn-secondary"
                    style="width: 100%; margin-top: 1rem; border-radius: 6px; padding: 8px;"
                    onclick="alert('Funci√≥n de editar perfil pr√≥ximamente')">Editar Perfil</button>
            </div>
            <h3 style="margin-bottom: 1rem; color: #1F2937;">Mis Publicaciones</h3>
        </div>

        <!-- Create Post Section -->
        <div id="main-feed" class="create-post">
            <form id="post-form">
                <textarea id="post-content" placeholder="¬øQu√© est√°s pensando?"></textarea>
                <!-- Image Preview Container -->
                <div id="image-preview-container" style="display: none; margin-bottom: 10px;">
                    <img id="image-preview" src="" alt="Previsualizaci√≥n"
                        style="max-width: 100%; max-height: 200px; border-radius: 8px; border: 1px solid #ddd;">
                    <button type="button" id="remove-image"
                        style="background: none; border: none; color: red; cursor: pointer; margin-left: 10px;">‚ùå
                        Quitar</button>
                </div>
                <div class="create-post-actions">
                    <div class="file-input-wrapper">
                        <button type="button" class="btn btn-secondary">üì∑ Foto</button>
                        <input type="file" id="post-image" accept="image/*">
                    </div>
                    <span id="file-name" style="font-size: 0.8rem; color: #666; margin-left: 10px;"></span>
                    <button type="submit" class="btn">Publicar</button>
                </div>
            </form>
        </div>

        <!-- Feed Section -->
        <div id="feed-container">
            <!-- Posts will be injected here -->
        </div>
    </div>

    <!-- Photo Modal -->
    <div id="photo-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closePhotoModal()">&times;</span>
            <h3>Foto de Perfil</h3>
            <div class="modal-body">
                <img id="modal-profile-pic" src="" alt="Foto de perfil grande">
                <div class="modal-actions">
                    <button class="btn" onclick="document.getElementById('profile-upload').click()">Cambiar
                        Foto</button>
                    <input type="file" id="profile-upload" accept="image/*" style="display: none;"
                        onchange="handleProfileUpload(this)">
                </div>
            </div>
        </div>
    </div>

    <script src="script.js?v=2"></script>
</body>

</html>